---
interface CarreerEvent {
  fromDate: string;
  toDate: string;
  description: string;
}

interface Props {
  title: string;
  events?: CarreerEvent[];
}

const { events = [], title } = Astro.props;
---

<article>
  <h2>{title}</h2>
  <div class="timeline">
    {
      events.map((e) => (
        <div class="event">
          <div class="datecontainer">
            <span class="date">{e.fromDate}</span>-
            <span class="date">{e.toDate}</span>
          </div>
          <span>{e.description}</span>
        </div>
      ))
    }
  </div>
</article>

<style>
  article {
    display: contents;
  }
  h2 {
    margin-bottom: 10px;
  }
  .event {
    padding: 0px 15px;
    position: relative;
    grid-column: 1 / 3;
    display: grid;
    grid-template-columns: subgrid;
  }
  /* The circles on the timeline */
  .event::before {
    content: "";
    position: absolute;
    width: 12px;
    height: 12px;
    left: -10px;
    background-color: white;
    border: 4px solid var(--primary);
    border-radius: 50%;
    z-index: 1;
  }

  /* Container for events and the ruler */
  .timeline {
    position: relative;
    margin-left: 10px;
    grid-column: 1 / 3;
    display: grid;
    grid-template-columns: subgrid;
    row-gap: 20px;
  }

  /* The actual timeline (the vertical ruler) */
  .timeline::before {
    content: "";
    position: absolute;
    width: 3px;
    /* Must be -`half of width` */
    margin-left: -1.5px;
    background-color: black;
    top: 0;
    bottom: 0;
    left: 0;
    border-radius: 5px;
  }
</style>
